# Principles, concepts and practical considerations {#minimization}

## Data minimization

*Data minimization* is a fundamental principle of data privacy and protection. This principle requires limiting personal data collection and retention to only what is **relevant**, **necessary**, and **adequate** to only what is to accomplish a given purpose. 

Collecting only the minimum amount of personal data necessary for your research reduces the risks associated with excessive data collection. More personal data implies higher risks of data breaches and their misuse, thereby increasing potential harm for the research participants. 

Personal data minimisation in research can be achieved by: 

<ul>
  <li><details><summary><b>**Carefully planning what personal data is necessary for your research purpose. **</b></summary>
  <div>Plan what specific personal data is truly needed early in the research design phase. For example, avoid collecting participants' ages if your study does not examine age-related effects.<br></div>
  </details></li>
  <li><details><summary><b>**Collecting aggregated information when detailed information is not required. ** </b></summary>
  <div>If broader categories (e.g., age ranges, geographic area) suffice for your analysis, there's no need to collect exact ages.<br></div>
  </details></li>
  <li><details><summary><b>**Limiting open-ended questions in surveys.**</b></summary>
  <div>Open-ended questions can give research participants room to share unsolicited personal data about themselves or others. Reducing the number of open-ended questions can minimise the risks of collecting unnecessary personal data.</div></details></li>
  <li><details><summary><b>	**Instructing research participants sufficiently to avoid unnecessary personal data.** </b></summary>
  <div>Inform participants ahead of the data collection to refrain from sharing unnecessary personal information, such as names or addresses of others. Adding clear instructions and reminding the participants not to mention personal data (e.g., other people's names or addresses) can prevent unintentional personal data.</div></details></li>
    <li><details><summary><b>	**Adjusting the settings of the data collection tool to minimise personal data collection. ** </b></summary>
  <div>Review and adjust the settings of data collection tools like survey platforms to prevent the default collection of unnecessary personal data, such as location or IP addresses. When data collection is finalised, please migrate personal data from the data collection tools to safe data storage as soon as possible.</div></details></li></ul>


## Pseudonymisation versus Anonymisation  


When personal data are necessary and have been collected for research, research participants’ identities should be protected. Two techniques, **pseudonymisation** and **anonymization**, are used to ensure that research participants remain anonymous and untraceable during and after research. 


### Pseudonymisation

*Pseudonymisation* is a de-identification process after which research data can no longer be linked to a specific individual without additional information. This process also referred to as coding, involves creating **two separate files:** one linking an individual's identifying information to pseudonyms (substitute values) and another containing only the pseudonyms along with non-identifying research data. The former file is known as **a key file** or **code list** and must be kept separately from the latter file. See Figure 2 below for an example of pseudonymisation. 

**Figure 2:** Examples of pseudonymisation of names 

```{r pseudo-key,fig.align='center',fig.width=10, fig.height=7, out.width="80%", echo=FALSE}
  knitr::include_graphics("figure/pseudo-key.png") 
```

The key file should be securely stored and protected with measures such as password protection and encryption to prevent the re-identification of research participants. Encryption is the process of securing (personal) data by converting its storage location, such as a file, folder, USB device, hard disk drive, into a coded format, making it accessible only to those with the decryption key. 

### Anonymisation

*Anonymisation* is another de-identification process which involves permanently deleting direct and/or indirect identifiers from the data, such that there is no way to link back to individuals (research participants) and the research information they have supplied. In this case, opposed to pseudonymisation, there is <u>no key file</u> that would permit re-identification and this process is irreversible as all identifiers are removed. An example of anonymising names can be found in Figure 3. Figure 4 shows the comparison between pseudonymisation and anonymisation. 

Figure 3: Examples of anonymisation of names 

```{r anonymization_example,fig.align='center',fig.width=10, fig.height=7, out.width="80%", echo=FALSE}
  knitr::include_graphics("figure/anonymization_example.png") 
```

Figure 4: Comparison of pseudonymisation versus anonymisation 
```{r comparison_pseu_anony,fig.align='center',fig.width=10, fig.height=7, out.width="80%", echo=FALSE}
  knitr::include_graphics("figure/comparison_pseu_anony.png") 
```

### Data anonymisation process

Data de-identification is an iterative process. Figure 5 below presents the four essential steps, considerations and actions necessary to ensure an effective and informed data de-identification process. 

**Figure 5:** Steps to de-identify your data

```{r anonymization_steps,fig.align='center',fig.width=10, fig.height=7, out.width="99%", echo=FALSE}
  knitr::include_graphics("figure/anonymization_steps.png") 
``` 
*Note:* Adapted from UK Data Services (2015) and PDPC Singapore (2024) 


<!-- Example HTML structure for your bookdown list -->
<!-- Include this in your .Rmd file -->

<div class="custom-list-item">
<!-- Row 1: Number and Title on same line -->
<div class="list-header-row">
<div class="list-number list-number-1">1</div>
<div class="list-title">Get to know your data</div>
</div>
<!-- Content below: Explanation and How-to section -->
<div class="list-content-container">
<div class="list-explanation">
Identify any direct and/or indirect identifiers in your dataset. See Chapter 1 for a detailed overview of identifiers.
</div>
<div class="how-to-section how-to-1">
<div class="how-to-label">How to:</div>
<div class="how-to-content">
Knowing your data involves answering questions, such as what type of data do you want to anonymise or pseudonymise (e.g., textual, numerical, audio, video)? What identifiers are present, such as direct, indirect, or strong indirect identifiers? 
</div>
</div>
</div>
</div>

<div class="custom-list-item">
<!-- Row 1: Number and Title on same line -->
<div class="list-header-row">
<div class="list-number list-number-2">2</div>
<div class="list-title">De-identify your data</div>
</div>
  
<!-- Content below: Explanation and How-to section -->
<div class="list-content-container">
<div class="list-explanation">
Select and apply anonymisation or pseudonymisation techniques to the data. See Chapter 3 for an overview of the techniques. Be consistent when applying the selected techniques throughout the dataset. Be aware that de-identifying your data can be a time-consuming or expensive process and should, therefore, be planned accordingly.
</div>
<div class="how-to-section how-to-2">
<div class="how-to-label">How to:</div>
<div class="how-to-content">
Ask yourself how you could de-identify the data while retaining its usefulness. Data usefulness refers to the data's ability to address a range of research questions even after de-identification, while remaining rich in context. This will involve considering the data type, format, sensitivity, uniqueness, intended use, and reuse of the data. Finally, the de-identification process should be documented to ensure transparency.
</div>
</div>
</div>
</div>

<div class="custom-list-item">
<!-- Row 1: Number and Title on same line -->
<div class="list-header-row">
<div class="list-number list-number-3">3</div>
<div class="list-title">Assess re-identification risks</div>
</div>
  
<!-- Content below: Explanation and How-to section -->
<div class="list-content-container">
<div class="list-explanation">
Re-identification risk assessment is the process of evaluating the likelihood that the de-identified data could still reveal individual identities.  
</div>
<div class="how-to-section how-to-3">
<div class="how-to-label">How to:</div>
<div class="how-to-content">
Three techniques commonly used to assess re-identification risks are: 

•	**Singling Out:** can an individual be isolated from the dataset? 

•	**Linking:** can information within the dataset be combined with external data to identify an individual? 

•	**Inference:** can details about an individual be inferred, guessed, or predicted based on patterns in the dataset or previous knowledge? 
</div>
</div>
</div>
</div>
```{r setup-cards, include=FALSE}
#adding the card to the book 
library(htmltools)

create_named_cards <- function(card_data) {
  # Generate HTML
  cards_html <- paste0(
    '<div class="card-container">',
    paste(
      sapply(seq_along(card_data), function(i) {
        paste0(
          '<div class="card', ifelse(i == 1, ' active', ''), 
          '" id="card-', i, '">',
          '<div class="card-header">', names(card_data)[i], '</div>',
          '<div class="card-content">', 
          card_data[[i]], 
          '</div>',
          '</div>'
        )
      }),
      collapse = "\n"
    ),
    '<div class="card-nav">',
    paste(
      sapply(seq_along(card_data), function(i) {
        paste0(
          '<span', ifelse(i == 1, ' class="active"', ''), 
          ' onclick="window.switchCard(', i, ')">', i, '</span>'
        )
      }),
      collapse = "\n"
    ),
    '</div>',
    '</div>'
  )
  
  # JavaScript with error handling
  js <- HTML('
    <script>
    window.switchCard = function(index) {
      try {
        // Hide all cards
        const cards = document.querySelectorAll(".card");
        cards.forEach(card => {
          card.classList.remove("active");
        });
        
        // Show selected card
        const activeCard = document.getElementById("card-" + index);
        if (activeCard) {
          activeCard.classList.add("active");
          
          // Update navigation dots
          const dots = document.querySelectorAll(".card-nav span");
          dots.forEach((dot, i) => {
            dot.classList.toggle("active", i === index - 1);
          });
          
          // Adjust container height
          const container = document.querySelector(".card-container");
          if (container) {
            container.style.minHeight = (activeCard.offsetHeight + 100) + "px";
          }
        }
      } catch (e) {
        console.error("Error switching cards:", e);
      }
    }
    
    // Initialize after DOM loads
    document.addEventListener("DOMContentLoaded", function() {
      setTimeout(function() {
        window.switchCard(1);
      }, 100);
    });
    </script>
  ')
  
  HTML(paste(cards_html, js))
}
```


```{r display-cards, echo=FALSE, results='asis'}
card_data <- list(
  "Checking unique data records" = "Are there any remaining sensitive or unique data points in the dataset? Check if any data points are unique in combination with other attributes. If a category created by any two attributes (e.g., age and occupation) has only one data point, that data point is unique and poses a re-identification risk. Aim to have at least three data points in each unique category to reduce this risk.",
  
  "Assessing sample vs population unique data records" = "Uniqueness in a dataset sample can still mean uniqueness in the broader population and an increased re-identification risk. For example, a rare disease patient or a specialized surgeon might be unique both in the dataset and in real life, making them identifiable.",
  
  "Investigating the existence of" = "<ul>
    <li>External databases or any other information: assess whether other datasets or any knowledge that could be used to re-identify your data exist.</li>
    <li>e-identification technology and skills: assess if (new) techniques and skills that could reverse anonymization or link data back to individuals exist.</li>
  </ul>"
)

create_named_cards(card_data)
```


<div class="custom-list-item">
<!-- Row 1: Number and Title on same line -->
<div class="list-header-row">
<div class="list-number list-number-4">4</div>
<div class="list-title">Manage re-identification risk</div>
</div>
  
<!-- Content below: Explanation and How-to section -->
<div class="list-content-container">
<div class="list-explanation">
Full anonymisation is difficult, if not impossible, to achieve. Once data is made available, it can potentially be linked to external datasets, making it possible to re-identify individuals. Additionally, (new) techniques could emerge and enable re-identification. Therefore, when making data available, extra care should be taken to minimise re-identification risks. 
</div>
<div class="how-to-section how-to-4">
<div class="how-to-label">How to:</div>
<div class="how-to-content">
•Specify access levels and conditions for the future user(s) who will access the data (e.g., a specific group or the general public). The broader the recipient range, the stricter the anonymisation measures should be.  

•Apply additional safeguard measures such as encryption, password protection, etc. 

•Ensure that, where necessary, legal agreements are arranged (e.g., data transfer or sharing agreements). 
</div>
</div>
</div>
</div>



## Practical Consideration
<ul>
  <li><details><summary><b>**Anonymization is not an absolute value, but a spectrum.**</b></summary>
  <div>The outcome of the anonymisation process can vary in degree of risk of re-identification. Some datasets can be fully anonymised while other datasets still have the risk of re-identification even after applying anonymisation techniques. In the following scenarios, the data cannot be considered fully anonymous as there is still the possibility of re-identification: 
  
o	If the dataset still contains identifiable data or multiple identifiers that can be combined with additional information. 

o	If the key files or metadata information could be used to re-identify individuals remain available (thus shared alongside the dataset elsewhere), the data cannot be deemed anonymised. The data is instead considered **pseudonymised**, which is still considered as personal data according to the GDPR. 
<br></div>
  </details></li>
  <li><details><summary><b>**Balancing anonymization and data usefulness.** </b></summary>
  <div>Anonymisation can reduce data usefulness, potentially limiting its use in the original study in which it was collected and reuse in future studies. The more data is anonymised (by removing or altering personal identifiers), the less useful it may become for research. Therefore, sometimes personal details may need to be preserved, at least during the research, to maintain the data’s usefulness. For example, in a study examining the relationship between students' performance and family socioeconomic status, key information such as grades and family income must be retained to answer the research question while personal details like names, gender, and age might be removed to protect privacy. <br></div>
  </details></li>
  <li><details><summary><b>**Pseudonymization may be preferred over anonymization.**</b></summary>
  <div>anonymisation may not always be desirable, during and after research. For example, in longitudinal studies, tracking the same participants over time is crucial. In such cases, **pseudonymisation** is preferred over anonymisation, as it allows researchers to link data of the same participant. Similarly, for qualitive studies, pseudonymisation may be favoured to retain the context and richness of the data. </div></details></li>
  
  <li><details><summary><b>	**Sharing anonymised data should be done with caution.** </b></summary>
  <div>There is always a risk of re-identification through singling out, inference, or linking with other data or techniques. Therefore, it is recommended these risks are carefully assessed before sharing data. If the risk of re-identification is high, the scope of data sharing should be limited, and conversely, if the risk is low, the scope of sharing can be broader.</div></details></li>
    
  <li><details><summary><b>	**Documenting the anonymisation process.** </b></summary>
  <div>The process of anonymisation should be thoroughly documented for future reference, mainly for transparency but mostly to ensure data usability. Such documentation tracks all changes from the original data to anonymised data, including removals, replacements, aggregations, or generalisations. The anonymisation documentation should be stored securely and separately from the data files, as it may contain information that could enable re-identification.   </div></details></li>
    <li><details><summary><b>	**Fully anonymized data is <u>not<u> subject to GDPR** </b></summary>
  <div>Unlike pseudonymised data, fully anonymised data is not subject to GDPR regulations. However,**full anonymisation is challenging to achieve**.  </div></details></li></ul>

